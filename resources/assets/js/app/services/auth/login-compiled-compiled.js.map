{"version":3,"sources":["login-compiled.js"],"names":[],"mappings":"AAAA;;AAEA,OAAO,cAAP,CAAsB,OAAtB,EAA+B,YAA/B,EAA6C;AACzC,WAAO;AADkC,CAA7C;;AAIA,IAAI,WAAW,QAAQ,+BAAR,CAAf;;AAEA,IAAI,YAAY,uBAAuB,QAAvB,CAAhB;;AAEA,IAAI,OAAO,QAAQ,KAAR,CAAX;;AAEA,IAAI,QAAQ,uBAAuB,IAAvB,CAAZ;;AAEA,IAAI,WAAW,QAAQ,cAAR,CAAf;;AAEA,IAAI,YAAY,uBAAuB,QAAvB,CAAhB;;AAEA,IAAI,SAAS,QAAQ,eAAR,CAAb;;AAEA,IAAI,UAAU,uBAAuB,MAAvB,CAAd;;AAEA,SAAS,sBAAT,CAAgC,GAAhC,EAAqC;AAAE,WAAO,OAAO,IAAI,UAAX,GAAwB,GAAxB,GAA8B,EAAE,SAAS,GAAX,EAArC;AAAwD;;AAE/F;;;AAGA,IAAI,UAAU,SAAS,OAAT,CAAiB,KAAjB,EAAwB,OAAxB,EAAiC;AAC3C,YAAQ,OAAR,CAAgB,QAAhB,CAAyB,OAAzB,EAAkC,MAAM,KAAxC;AACA,cAAU,OAAV,CAAkB,IAAlB,GAAyB,IAAzB,CAA8B,YAAY;AACtC,cAAM,OAAN,CAAc,MAAd,CAAqB,IAArB,CAA0B;AACtB,kBAAM;AADgB,SAA1B;AAGA;AACH,KALD;AAMH,CARD;;AAUA;;;AAGA,IAAI,SAAS,SAAS,MAAT,CAAgB,KAAhB,EAAuB,MAAvB,EAA+B;AACxC,QAAI,MAAM,QAAN,KAAmB,SAAvB,EAAkC;AAC9B,eAAO,OAAO,EAAE,OAAO,CAAC,qBAAD,CAAT,EAAP,CAAP;AACH;AACD,WAAO,OAAO,MAAM,QAAN,CAAe,IAAtB,CAAP;AACH,CALD;;AAOA,QAAQ,OAAR,GAAkB,UAAU,IAAV,EAAgB;AAC9B,WAAO,IAAI,UAAU,OAAd,CAAsB,UAAU,OAAV,EAAmB,MAAnB,EAA2B;AACpD,cAAM,OAAN,CAAc,KAAd,CAAoB,IAApB,CAAyB,OAAzB,EAAkC,IAAlC,EAAwC,IAAxC,CAA6C,UAAU,QAAV,EAAoB;AAC7D,oBAAQ,SAAS,IAAjB,EAAuB,OAAvB;AACH,SAFD,EAEG,KAFH,CAES,UAAU,KAAV,EAAiB;AACtB,mBAAO,KAAP,EAAc,MAAd;AACH,SAJD;AAKH,KANM,CAAP;AAOH,CARD;;AAUA","file":"login-compiled-compiled.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _vue = require('vue');\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _account = require('./../account');\n\nvar _account2 = _interopRequireDefault(_account);\n\nvar _store = require('./../../store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * When the request succeeds\n */\nvar success = function success(token, resolve) {\n    _store2.default.dispatch('login', token.token);\n    _account2.default.find().then(function () {\n        _vue2.default.router.push({\n            name: 'clients'\n        });\n        resolve();\n    });\n};\n\n/**\n * When the request fails\n */\nvar failed = function failed(error, reject) {\n    if (error.response === undefined) {\n        return reject({ error: ['Invalid credentials'] });\n    }\n    return reject(error.response.data);\n};\n\nexports.default = function (user) {\n    return new _promise2.default(function (resolve, reject) {\n        _vue2.default.$http.post('/auth', user).then(function (response) {\n            success(response.data, resolve);\n        }).catch(function (error) {\n            failed(error, reject);\n        });\n    });\n};\n\n//# sourceMappingURL=login-compiled.js.map"]}